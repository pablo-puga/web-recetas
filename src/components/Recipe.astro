---
import { Image } from 'astro:assets';
import clsx from 'clsx';

import RecipeYield from './RecipeYield.astro';
import Times from './Times.astro';

import type { CollectionEntry } from 'astro:content';

import '../styles/recipe-content.css';

interface Props {
    recipe: CollectionEntry<'recipes'>;
    className?: string;
}

const { recipe, className } = Astro.props;
const { title, cover, recipeYield, prepTime, cookTime } = recipe.data;
const hasTimes = prepTime && cookTime;
---

<article class={clsx('px-2', className)}>
    {cover && <Image src={cover} alt={`Imagen de cabecera de ${title}`} />}
    <section class="flex flex-row flex-wrap justify-between mt-2">
        {recipeYield && <RecipeYield {...recipeYield} />}
        {hasTimes && <Times prepTime={prepTime} cookTime={cookTime} />}
    </section>
    <section class="recipe-content mt-10">
        <slot />
    </section>
</article>
